import {
  Meta,
  Story,
  ArgsTable,
  Canvas,
  Description,
} from '@storybook/addon-docs';
import ScaleChip from './ScaleChip.vue';
import { action } from '@storybook/addon-actions';

<Meta
  title="Beta Components/Chip"
  component={ScaleChip}
  argTypes={{
    label: {
      control: { type: 'text' },
    },
    color: {
      control: {
        type: 'select',
        options: [
          'cyan',
          'yellow',
          'green',
          'orange',
          'red',
          'violet',
          'brown',
          'olive',
          'teal',
          'grey',
        ],
      },
    },
    type: {
      control: {
        type: 'select',
        options: ['strong', 'standard', 'inversed', 'colored'],
      },
    },
  }}
/>

export const Template = (args, { argTypes }) => ({
  props: {
    label: String,
    ...ScaleChip.props,
  },
  template: `
    <template>
        <scale-chip
            :type="type"
            :selected="selected"
            :color="color"
            :dismissible="dismissible"
            :label="label"
            :disabled="disabled"
            :styles="styles"
            :icon-size="iconSize"
        >
        </scale-chip>
    </template>
  `,
  methods: {
    action,
  },
});

export const TemplateIcon = (args, { argTypes }) => ({
  props: {
    label: String,
    ...ScaleChip.props,
  },
  template: `
    <template>
        <scale-chip
            :type="type"
            :selected="selected"
            :color="color"
            :dismissible="dismissible"
            :label="label"
            :disabled="disabled"
            :styles="styles"
            :icon-size="iconSize"
        >
        <div slot="chip-icon">
            <scale-icon-action-favorite accessibility-title="favorite" />
        </div>
        </scale-chip>
    </template>
  `,
  methods: {
    action,
  },
});

export const TemplateInteractive = (args, { argTypes }) => ({
  template: `
      <ul aria-label="colors" style="display: flex; list-style: none; padding: 0;">
          <li v-for="color in colors" :key="color" style="margin-right: 4px;">
            <scale-chip
                type="strong"
                v-bind:label="'Strong ' + color"
                v-bind:color=color
            >      
            </scale-chip>
            <div style="height: 10px"/>
             <scale-chip
                type="standard"
                v-bind:label="'Standard ' + color"
                v-bind:color=color
            >     
            </scale-chip>
          </li>
      </ul>
  `,
  methods: {
    action: action('scaleChange'),
  },
  data: () => ({
    colors: [
      'grey',
      'cyan',
      'yellow',
      'green',
      'orange',
      'red',
      'violet',
      'brown',
      'olive',
      'teal',
    ],
  }),
});

export const TemplateClose = (args, { argTypes }) => ({
  template: `
      <ul aria-label="colors" style="display: flex; list-style: none; padding: 0;">
          <li v-for="color in colors" :key="color" style="margin-right: 4px;">
            <scale-chip
                type="strong"
                dismissible
                v-bind:label="'Close me'"
                v-bind:color=color
                v-bind:dismiss-text="'Remove ' + color + ' from the list'"
                @scaleClose="removeColor(color)"
            >      
            </scale-chip>
          </li>
      </ul>
  `,
  methods: {
    action: action('scaleClose'),
    removeColor(color) {
      this.action();
      this.colors = this.colors.filter((x) => x !== color);
      setTimeout(() => {
        this.$el.querySelector('#root > ul > li > scale-chip') &&
          this.$el
            .querySelector('#root > ul > li > scale-chip')
            .shadowRoot.querySelector('span > button')
            .focus();
      });
    },
  },
  data: () => ({
    colors: ['grey'],
  }),
});

<div
  style={{
    display: 'inline-flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    width: '100%',
  }}
>
  <h1>Chip</h1>
  <img src="assets/beta.png" alt="Beta Component" />
</div>

## Standard

<Canvas withSource="none">
  <Story
    name="Standard"
    args={{
      label: 'Chip label',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

## Icon Chip

<Canvas withSource="none">
  <Story
    name="Icon Chip"
    args={{
      label: 'Icon Chip',
    }}
  >
    {TemplateIcon.bind({})}
  </Story>
</Canvas>

```html
<scale-chip label="Icon Chip"
  ><div slot="chip-icon">
    <scale-icon-action-favorite accessibility-title="favorite" />
  </div>
</scale-chip>
```

## Dismissible Chip

<Canvas withSource="none">
  <Story
    name="Dismissible Chip"
    args={{
      label: 'Dismissible Chip',
      dismissible: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-chip dismissible label="Dismissible Chip"></scale-chip>
```

## Disabled Chip

<Canvas withSource="none">
  <Story
    name="Disabled Chip"
    args={{
      label: 'Disabled Chip',
      disabled: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-chip disabled label="Disabled Chip"></scale-chip>
```

## Selected Chip

### Selected Chip

<Canvas withSource="none">
  <Story
    name="Selected Chip"
    args={{
      label: 'Selected Chip',
      selected: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-chip selected label="Selected Chip"></scale-chip>
```

### Dismissible Selected Chip

<Canvas withSource="none">
  <Story
    name="Dismissible Selected Chip"
    args={{
      label: 'Dismissible Selected Chip',
      dismissible: true,
      selected: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-chip dismissible selected label="Dismissible Selected Chip"></scale-chip>
```

## Colored Chip

### Color Standard Chip

<Canvas withSource="none">
  <Story
    name="Color Standard Chip"
    args={{
      label: 'Color Standard Chip',
      color: 'red',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-chip
  color="red"
  type="standard"
  label="Color Standard Chip"
></scale-chip>
```

### Color Strong Chip

<Canvas withSource="none">
  <Story
    name="Color Strong Chip"
    args={{
      label: 'Color Strong Chip',
      color: 'red',
      type: 'strong',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-chip color="red" type="strong" label="Color Strong Chip"></scale-chip>
```

## Color Variety

<Canvas withSource="none">
  <Story name="Colors">{TemplateInteractive.bind({})}</Story>
</Canvas>

## Change Action Chip

<Canvas withSource="none">
  <Story
    name="Change Action Chip"
    args={{
      label: 'Change me',
      selected: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-chip selected label="Change me"></scale-chip>
```

## Close Action Chip

<Canvas withSource="none">
  <Story name="Close Action Chip">{TemplateClose.bind({})}</Story>
</Canvas>

```html
<scale-chip dismissible color="grey" label="Close me"></scale-chip>
```
